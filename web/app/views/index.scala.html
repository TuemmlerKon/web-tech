@(message: String, User: models.User, news: List[News], files: List[File])

@import play.i18n.Messages

@percent = {80}

@main(message) {

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Willkommen, @User.prename.toUpperCase()</h3>
        </div>
        <div class="panel-body">
            @if(User.lastlogin == null) {
                <p>Wir freuen uns dich auf unserem Portal begrüßen zu dürfen!</p>
            } else {
                <p>Dein letzter Login war am <strong>@User.lastlogin.toDateTimeISO.toString("dd.MM.YYYY")</strong> um <strong>@User.lastlogin.toDateTimeISO.toString("HH:MM") Uhr</strong></p>
            }
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Dein aktueller Verbrauch</h3>
        </div>
        <div class="panel-body">
            <div class="progress">
                <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="@percent" aria-valuemin="0" aria-valuemax="100" style="width: @percent%">
                    @percent%
                </div>
            </div>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Letzte Updates</h3>
        </div>
        <div class="panel-body">
            <table class="table">
                <thead>
                    <tr>
                        <th>Datum</th>
                        <th>Dateiname</th>
                        <th>Größe</th>
                        <th>Service</th>
                    </tr>
                </thead>
                <tbody>
                    @for(file <- files) {
                        <tr>
                            <td>@file.createDate.format("dd.mm.YYYY HH:MM") @Messages.get("user.files.clock")</td>
                            <td>@file.filename</td>
                            <td>@(file.size / 1024) KBytes</td>
                            <td>@file.service</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Neuigkeiten</h3>
        </div>
        <div class="panel-body">
            @for(entry <- news) {
                <p><span class="text-muted">@entry.date.format("dd.mm.YYYY HH:MM") @Messages.get("user.files.clock")</span>: <strong>@entry.name</strong> @entry.text</p>
            }
        </div>
    </div>

}